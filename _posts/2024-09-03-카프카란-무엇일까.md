---
title: "[Kafka] 카프카란 무엇일까?"
categories:
  - kafka
tags:
  - kafka 
toc: true
toc_sticky: true
---


> 실무에서 아파치카프카를 사용하여 대량의 이벤트를 처리하고 있다.   
대~강 대용량 데이터를 처리하기 위한 큐 정도로만 알고 있었는데   
실제로 사용해보니 개념을 정확하게 알아야 카프카를 100% 활용할 수 있을거라고 생각했다.   


# ✅ 카프카란 ?
- 정식 명칭은 아파치카프카(Apache Kafka)
- 분산형 스트리밍 플랫폼
- 대량의 데이터를 안정적이고 실시간으로 처리할 수 있도록 설계
- 한마디로 성능과 기능이 좋은 큐(Queue)

# ✅ 발행-구독 모델
- Publisher : 발행자
- broker : 카프카 => KafkaCluster
- Consumer : 구독자
- 데이터를 발행자가 직접 구독자에게 보내는 형태가 아니고 
- 발행자는 데이터를 구독시스템에 보내고 보낸 데이터를 저장하는 중계역할을 카프카가 하게 되고
- 구독자는 저장된 데이터를 구독(처리)하는 형태

# ✅ 카프카의 주요 특징 및 용도
1. 분산 시스템
2. 확장성
3. 내결함성
4. 이벤트 브로커

## 📌 분산 시스템
- 여러 서버에 걸쳐 데이터를 분산 저장하여 가용성과 신뢰성을 높임
- 대량의 데이터 스트림을 초고속으로 처리 가능 -> 초당 수백만 개의 메세지를 처리하는 것이 가능
## 📌 확장성
- 수평 확장이 용이
- 필요에 따라 클러스터에 브로커를 추가하여 성능을 향상시킬 수 있음
- 퍼블리셔 <-> 구독자 모델을 사용하여 생산자와 소비자가 서로 독립적으로 작업할 수 있음
## 📌 내결함성
- 메세지는 디스크에 영구적으로 저장
- 복제 기능을 통해 데이터 손실을 방지
## 📌 이벤트 브로커
- 애플리케이션 간에 이벤트를 수집하고 전달하는 중개역할을 하는 소프트웨어 컴포넌트
- 이벤트 기반 구조에서 핵심적인 요소
- 다양한 시스템이나 서비스가 비동기적으로 상호작용할 수 있도록 도움을 줌
  - ▶︎ 메세지 전달
    - 이벤트 브로커는 생산자(Producer)로부터 수신한 이벤트를 소비자(Consumer)에게 전달
    - 위 과정에서 이벤트는 보통 메세지 형식으로 포장되어 전달됨
  - ▶︎ 비동기 처리
    - 이벤트를 비동기적으로 처리하여 생산자와 소비자가 서로 독립적으로 작용할 수 있게 함
      - 예) 프론트에서 컨슈머와 관계없이 메세지를 계속 프로듀싱하고, 컨슈머에서는 프로듀싱된 데이터를 독립적으로 실행
    - 생산자는 이벤트를 발행하고, 소비자는 나중에 처리할 수 있음
  - ▶︎ 메세지 큐잉
    - 이벤트 브로커는 메세지를 일시적으로 저장할 수 있어 소비자가 준비되지 않았더라도 이벤트가 손실되지 않음
      - 예) 프론트에서는 계속 메세지를 프로듀싱하는데 컨슈머가 빌드되는 중이거나 멈춰있더라도 프론트에서 프로듀싱된 메세지는 손실되지 않음
  - ▶︎ 구독 모델
    - 소비자는 특정 이벤트 유형에 대해 구독(subscribe)할 수 있음 -> 이벤트가 발생하면 이를 수신할 수 있음
    - 여러 소비자가 동일한 이벤트를 처리할 수 있음
      - 예) 동일한 토픽을 여러 리스너(소비자)가 구독할 수 있음
      - 예) "주문" 토픽을 여러 리스너(소비자)가 구독하여 재고업데이트, 주문확인이메일 발송, 주문 데이터 수집 등 여러가지 작업을 처리할 수 있음
  - ▶︎ 데이터 변환 및 필터링
    - 필요에 따라 이벤트 데이터를 변환하거나 필터링하여 소비자에게 전달할 수 있음
  - ▶︎ 내구성 및 신뢰성
    - 이벤트가 영구적으로 저장
    - 장애가 발생해도 데이터 손실 없이 복구할 수 있음
- 대표적인 이벤트 브로커에는 아파치카프카(Apache Kafka), RabbitMQ, AWS SNS(Simple Notification Service)가 있음
